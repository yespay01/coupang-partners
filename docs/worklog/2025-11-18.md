# 2025-11-18 작업 메모

## 오늘 진행한 작업
1. **관리자 대시보드 뷰 컴포넌트화**  
   - `web/app/(dashboard)/admin/page.tsx`를 `AdminDashboardView`로 추상화해 개요/리뷰/로그 섹션을 필요에 따라 토글하도록 수정.  
   - `/admin/reviews`, `/admin/logs` 라우트에 공유 컴포넌트를 주입해 각각 리뷰 승인 전용 화면, 로그 탐색 전용 화면을 제공.
2. **Slack 알림 라우팅/멘션 고도화**  
   - `functions/src/slack.js`에 Webhook 라우팅, 레벨별 멘션, JSON 기반 환경변수 파싱을 추가하고 공통 템플릿을 개선.  
   - 후기 생성(`generateReview.js`)과 관리자 액션(`adminActions.js`)에서 `route`·필드 정보를 포함한 구조화 알림을 보내도록 리팩터링.
3. **문서 및 환경설정 업데이트**  
   - README에 `SLACK_WEBHOOK_ROUTES`, `SLACK_LEVEL_MENTIONS` 사용법과 Functions 에뮬레이터 실행 절차를 명시.  
   - `.env.local`에 `ADMIN_GUARD_BYPASS=true`를 추가해 로컬 로그인 가드 우회를 정리.

## 다음 작업 제안
1. **Slack 설정 검증 자동화**  
   - 라우트별 Webhook 유무와 멘션 정책을 배포 전 확인하는 스크립트/체크리스트 추가.  
   - CI에서 샘플 payload를 Mock Webhook으로 보내는 테스트를 고려.
2. **SSR/CSR 필터 일관성 확보**  
   - README에 기재된 계획대로 후기/로그 필터 조건을 Firestore 서버 쿼리와 동기화해 URL 파라미터만으로 공유 가능하게 개선.
3. **GitHub Actions 개선**  
   - 프리뷰 채널·롤백 전략, 시크릿 자동 세팅 등 배포 파이프라인 확장 작업을 진행.
