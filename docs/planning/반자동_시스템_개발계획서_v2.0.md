# 🎬 쇼핑 쇼츠 반자동 제작 시스템 개발 계획서 v2.0

## 📋 문서 정보
- **버전**: v2.0 (반자동 전략)
- **작성일**: 2025-10-30
- **목적**: 콘텐츠 기획 및 소재 수집 자동화
- **범위**: 대본 생성 → Douyin 영상 검색까지 자동화
- **편집 방식**: CapCut 수동 편집 유지 (품질 우선)

---

## 🎯 프로젝트 목표

### 핵심 목표
**"콘텐츠 제작 시간 85분 → 50분으로 단축 (41% 효율화)"**

### 자동화 범위
```
✅ 자동화 구간 (Phase 1-2)
┌─────────────────────────────────┐
│ 1. 상품명 입력                    │
│ 2. AI 대본 생성                   │
│ 3. 썸네일 문구 생성               │
│ 4. 중국어 키워드 번역             │
│ 5. Douyin 영상 검색 (URL 수집)   │
│ 6. 작업 폴더 자동 생성            │
└─────────────────────────────────┘

⏸️ 수동 전환 (사용자 선택 및 품질 관리)
┌─────────────────────────────────┐
│ 7. 영상 다운로드 (사용자 선택)    │
│ 8. 음성 생성 (Typecast)          │
│ 9. 영상 편집 (CapCut) ⭐         │
│ 10. 모바일 전송 (Send Anywhere)  │
│ 11. 업로드 (Instagram/YouTube)   │
└─────────────────────────────────┘
```

### 차별화 포인트
- ✅ **AI 품질 + 인간 창의성 결합**
- ✅ **낮은 비용** (월 ₩6,000-10,000)
- ✅ **빠른 학습 곡선** (초보자 2주 숙달)
- ✅ **높은 콘텐츠 품질** (수동 편집 유지)
- ✅ **유연한 확장** (필요 시 자동화 추가)

---

## 🏗️ 시스템 아키텍처

### 전체 구조
```
┌──────────────────────────────────────────────────────────┐
│                     사용자 인터페이스                      │
│                   (Streamlit Web App)                    │
│                                                           │
│  ┌────────────┬───────────────┬────────────────────┐    │
│  │  상품 정보  │   대본 생성    │   영상 검색        │    │
│  │  입력 폼    │   결과 표시    │   결과 표시        │    │
│  └────────────┴───────────────┴────────────────────┘    │
└──────────────────────┬───────────────────────────────────┘
                       │
┌──────────────────────▼───────────────────────────────────┐
│                   핵심 모듈 계층                          │
│                                                           │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │  대본 생성    │  │  키워드 번역  │  │  영상 검색    │  │
│  │  모듈         │  │  모듈         │  │  모듈         │  │
│  └──────────────┘  └──────────────┘  └──────────────┘  │
│                                                           │
│  ┌──────────────┐  ┌──────────────┐                     │
│  │  파일 관리    │  │  체크리스트   │                     │
│  │  모듈         │  │  생성 모듈    │                     │
│  └──────────────┘  └──────────────┘                     │
└──────────────────────┬───────────────────────────────────┘
                       │
┌──────────────────────▼───────────────────────────────────┐
│                    외부 API 계층                          │
│                                                           │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │  OpenAI      │  │  Selenium +   │  │  로컬 파일    │  │
│  │  GPT-4       │  │  yt-dlp       │  │  시스템       │  │
│  │  (대본생성)   │  │  (Douyin)     │  │  (저장)       │  │
│  └──────────────┘  └──────────────┘  └──────────────┘  │
└───────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────┐
│                    수동 작업 영역                         │
│                                                           │
│  🎬 CapCut Desktop  🎤 Typecast  📱 Send Anywhere        │
│  ↓                  ↓             ↓                       │
│  Instagram Reels / YouTube Shorts                        │
└───────────────────────────────────────────────────────────┘
```

---

## 🛠️ 기술 스택 (최소화 전략)

### Phase 1: 핵심 기능 (2주)

#### 필수 기술
| 기술 | 버전 | 용도 | 우선순위 |
|------|------|------|---------|
| **Python** | 3.10+ | 시스템 전체 | 🔴 필수 |
| **Streamlit** | 1.31.0 | 웹 UI | 🔴 필수 |
| **OpenAI API** | 1.12.0 | 대본 생성 | 🔴 필수 |
| **Pandas** | 2.2.0 | 데이터 처리 | 🔴 필수 |
| **python-dotenv** | 1.0.0 | 환경 변수 | 🔴 필수 |

#### Phase 1 제외 (단순화)
```
❌ FastAPI (API 서버 불필요)
❌ Docker (로컬 실행 충분)
❌ Poetry (pip으로 충분)
❌ SQLite (파일 기반 충분)
❌ MoviePy/FFmpeg (편집 수동)
❌ TTS API (Typecast 수동 사용)
```

### Phase 2: 영상 검색 (2주)

#### 추가 기술
| 기술 | 버전 | 용도 | 우선순위 |
|------|------|------|---------|
| **Selenium** | 4.17.0 | Douyin 크롤링 | 🟡 중요 |
| **yt-dlp** | 2024.1.1 | 영상 URL 추출 | 🟡 중요 |
| **BeautifulSoup4** | 4.12.3 | HTML 파싱 | 🟡 중요 |
| **webdriver-manager** | 4.0.1 | 드라이버 관리 | 🟢 편의 |

#### 선택 기술 (Phase 3 이후)
```
🔵 Google Cloud TTS (음성 테스트용)
🔵 쿠팡 URL 파싱 (상품 정보 자동 추출)
```

---

## 📅 단계별 개발 로드맵

### Phase 1: 콘텐츠 기획 자동화 (2주)

#### 목표
- 상품명 입력 → 대본/썸네일/키워드 자동 생성
- 작업 폴더 자동 정리
- 체크리스트 자동 생성

#### 구현 기능
```
✅ 대본 생성 모듈
   - OpenAI GPT-4 API 연동
   - 30-45초 분량 대본 자동 작성
   - 훅(Hook) 중심 구조
   - 감정 키워드 포함

✅ 썸네일 문구 생성
   - 6-8자 임팩트 문구
   - A/B 테스트용 3개 버전 생성

✅ 설명란 자동 생성
   - 해시태그 자동 추천
   - CTA 문구 포함
   - 쿠팡 파트너스 링크 템플릿

✅ 키워드 번역
   - 한국어 → 중국어 (간체)
   - Douyin 검색 최적화 키워드
   - 복수 키워드 생성 (2-3개)

✅ 파일 관리
   - 프로젝트 폴더 자동 생성
   - 표준 폴더 구조 적용
   - 메타데이터 JSON 저장

✅ 체크리스트 생성
   - 작업 단계별 CSV 생성
   - 예상 소요 시간 표시
   - 상태 추적 가능
```

#### 주차별 계획

**Week 1: 환경 설정 및 핵심 모듈**

**Day 1-2: 프로젝트 초기화**
```
□ 가상환경 생성 (venv)
□ requirements.txt 작성
□ .env.example 생성
□ 프로젝트 폴더 구조 생성
□ Git 저장소 초기화
□ .gitignore 설정
```

**산출물:**
- 기본 프로젝트 구조
- 환경 설정 완료
- Git 저장소

**Day 3-5: 대본 생성 모듈**
```
□ OpenAI API 테스트 코드 작성
□ 프롬프트 템플릿 설계
  - 대본 생성 프롬프트
  - 썸네일 프롬프트
  - 설명란 프롬프트
□ script_generator.py 구현
  - generate_script() 함수
  - 에러 핸들링
  - 토큰 사용량 로깅
□ 단위 테스트 작성
```

**산출물:**
- `modules/script_generator.py` (200줄)
- `prompts/script_prompt.txt`
- 테스트 케이스 5개

**Day 6-7: 키워드 번역 및 파일 관리**
```
□ keyword_translator.py 구현
  - translate_to_chinese() 함수
  - 복수 키워드 생성 로직
□ file_manager.py 구현
  - create_project_folder() 함수
  - save_files() 함수
  - sanitize_filename() 함수
□ checklist_creator.py 구현
  - 체크리스트 템플릿 정의
  - CSV 생성 함수
```

**산출물:**
- `modules/keyword_translator.py` (100줄)
- `modules/file_manager.py` (150줄)
- `modules/checklist_creator.py` (80줄)

**Week 2: UI 개발 및 통합**

**Day 8-10: Streamlit UI 개발**
```
□ 메인 페이지 레이아웃 설계
□ 입력 폼 구현
  - 상품명 입력
  - 카테고리 선택
  - 설정 옵션
□ 버튼 이벤트 처리
□ 진행 상태 표시 (progress bar)
□ 결과 표시 UI
  - 탭 구조 (대본/썸네일/키워드)
  - 복사 버튼
  - 다운로드 버튼
```

**산출물:**
- `app/main.py` (300줄)
- UI 스크린샷

**Day 11-12: 통합 및 테스트**
```
□ 모든 모듈 통합
□ 전체 워크플로우 테스트
  - 정상 시나리오 5개
  - 에러 시나리오 3개
□ 성능 테스트
  - 대본 생성 시간 측정
  - API 호출 최적화
□ 사용자 시나리오 테스트
  - 초보자 관점 테스트
  - 피드백 수집
□ 버그 수정
```

**산출물:**
- 테스트 보고서
- 버그 리스트 및 해결

**Day 13-14: 문서화 및 배포 준비**
```
□ README.md 작성
  - 설치 가이드
  - 사용 방법 (스크린샷 포함)
  - 트러블슈팅
□ 사용자 가이드 작성
  - 단계별 튜토리얼
  - 예시 프로젝트
□ 코드 주석 추가
□ 실행 스크립트 작성
□ 최종 리뷰
```

**산출물:**
- README.md (완성)
- USER_GUIDE.md
- 실행 가능한 v1.0 프로그램

#### Phase 1 완료 시점 체크리스트
```
✅ 상품명 입력하면 대본이 자동 생성되는가?
✅ 썸네일 문구가 6-8자 범위로 생성되는가?
✅ 중국어 키워드가 2-3개 생성되는가?
✅ 폴더가 자동으로 생성되고 파일이 저장되는가?
✅ 체크리스트 CSV가 정상 생성되는가?
✅ UI가 직관적이고 사용하기 쉬운가?
✅ 에러가 발생해도 프로그램이 중단되지 않는가?
✅ API 비용이 예상 범위 내인가? (건당 ₩50-100)
```

---

### Phase 2: 영상 소스 자동 검색 (2주)

#### 목표
- Douyin에서 키워드로 영상 자동 검색
- 영상 URL 목록 수집 (3-5개)
- 미리보기 썸네일 표시
- 사용자가 다운로드할 영상 선택

#### 구현 기능
```
✅ Douyin 크롤링 모듈
   - Selenium WebDriver 설정
   - 중국어 키워드로 검색
   - 영상 목록 스크래핑
   - URL 추출 및 검증

✅ 영상 정보 수집
   - 영상 제목
   - 조회수
   - 좋아요 수
   - 영상 길이
   - 썸네일 이미지 URL

✅ UI 개선
   - 검색 결과 그리드 표시
   - 썸네일 미리보기
   - 체크박스로 선택
   - "다운로드 가이드" 버튼
```

#### 주차별 계획

**Week 3: Douyin 크롤링 구현**

**Day 15-17: Selenium 설정 및 테스트**
```
□ Selenium WebDriver 설치
□ ChromeDriver 자동 관리 (webdriver-manager)
□ VPN 설정 가이드 작성 (Douyin 접근용)
□ Douyin 기본 크롤링 테스트
  - 검색 페이지 접근
  - 검색 실행
  - 결과 로딩 대기
□ 에러 핸들링
  - 봇 감지 회피
  - 타임아웃 처리
  - 네트워크 오류 처리
```

**산출물:**
- `modules/douyin_crawler.py` (기초)
- VPN 설정 가이드
- 크롤링 테스트 결과

**Day 18-19: 영상 정보 추출**
```
□ HTML 구조 분석
□ BeautifulSoup로 파싱
□ 영상 URL 추출 로직
  - 정규식 패턴 작성
  - URL 검증
□ 메타데이터 추출
  - 제목, 조회수, 좋아요
  - 영상 길이
  - 썸네일 URL
□ 데이터 구조화 (dict/list)
```

**산출물:**
- `modules/douyin_crawler.py` (완성)
- 영상 정보 JSON 예시

**Day 20-21: yt-dlp 통합**
```
□ yt-dlp 설치 및 테스트
□ Douyin URL 다운로드 테스트
□ 다운로드 가이드 자동 생성
  - 명령어 텍스트 생성
  - 파일명 규칙 제안
□ (선택) 자동 다운로드 기능
  - 사용자 승인 후 실행
  - 진행률 표시
```

**산출물:**
- yt-dlp 통합 완료
- 다운로드 가이드 템플릿

**Week 4: UI 통합 및 최종화**

**Day 22-24: Streamlit UI 개선**
```
□ 새 탭 추가: "영상 검색"
□ 검색 버튼 및 로딩 표시
□ 결과 그리드 레이아웃
  - 썸네일 이미지 표시
  - 영상 정보 표시
  - 체크박스 선택
□ 선택한 영상 URL 복사 기능
□ 다운로드 명령어 자동 생성
```

**산출물:**
- UI 개선 완료
- 스크린샷 업데이트

**Day 25-26: 통합 테스트**
```
□ Phase 1 + Phase 2 통합 테스트
□ 전체 워크플로우 검증
  1. 상품명 입력
  2. 대본 생성
  3. 키워드 자동 번역
  4. Douyin 자동 검색
  5. 영상 URL 수집
□ 성능 테스트
  - 검색 속도 측정
  - 크롤링 안정성 확인
□ 에러 시나리오 테스트
  - VPN 없을 때
  - Douyin 접근 불가 시
  - 검색 결과 없을 때
```

**산출물:**
- 통합 테스트 보고서
- 알려진 제한사항 문서

**Day 27-28: 문서 업데이트 및 최적화**
```
□ README 업데이트 (Phase 2 반영)
□ 사용자 가이드 업데이트
  - VPN 설정 방법
  - Douyin 검색 팁
  - 영상 선택 가이드
□ 코드 최적화
  - 불필요한 코드 제거
  - 주석 정리
  - 성능 개선
□ v2.0 릴리스 준비
```

**산출물:**
- v2.0 완성
- 업데이트 문서

#### Phase 2 완료 시점 체크리스트
```
✅ 중국어 키워드로 Douyin 자동 검색이 되는가?
✅ 영상 URL이 3-5개 수집되는가?
✅ 썸네일 이미지가 UI에 표시되는가?
✅ 영상 정보(제목, 조회수 등)가 정확한가?
✅ VPN 없이도 에러 없이 종료되는가?
✅ 다운로드 가이드가 명확한가?
✅ 전체 프로세스가 10분 내에 완료되는가?
✅ 사용자가 쉽게 사용할 수 있는가?
```

---

### Phase 3: 고도화 (선택사항, 4주+)

#### 선택 기능 목록

**음성 생성 자동화**
```
🔵 Google Cloud TTS 연동
   - 테스트용 음성 생성
   - Typecast 비교용
   - 예상 개발: 1주
```

**상품 정보 자동 추출**
```
🔵 쿠팡 URL 파싱
   - 상품명 자동 추출
   - 가격, 리뷰 수 추출
   - 예상 개발: 1주
```

**데이터베이스 구축**
```
🔵 SQLite 데이터베이스
   - 프로젝트 이력 관리
   - 성과 데이터 저장
   - 통계 대시보드
   - 예상 개발: 2주
```

**영상 자동 다운로드**
```
🔵 yt-dlp 자동 실행
   - 사용자 선택 영상 자동 다운
   - 진행률 표시
   - 파일명 자동 정리
   - 예상 개발: 1주
```

---

## 📁 프로젝트 구조 (최종)

```
shopping_shorts_automation/
│
├── 📁 app/
│   ├── main.py                      # Streamlit 메인 앱 (500줄)
│   └── config.py                    # 설정 관리 (50줄)
│
├── 📁 modules/
│   ├── __init__.py
│   ├── script_generator.py          # 대본 생성 모듈 (200줄)
│   │   ├── generate_script()
│   │   ├── generate_thumbnail()
│   │   └── generate_description()
│   │
│   ├── keyword_translator.py        # 키워드 번역 (100줄)
│   │   └── translate_to_chinese()
│   │
│   ├── file_manager.py               # 파일 관리 (150줄)
│   │   ├── create_project_folder()
│   │   ├── save_text_file()
│   │   └── save_json()
│   │
│   ├── checklist_creator.py          # 체크리스트 (80줄)
│   │   └── create_checklist()
│   │
│   ├── douyin_crawler.py             # Douyin 크롤링 (300줄) [Phase 2]
│   │   ├── search_videos()
│   │   ├── extract_video_info()
│   │   └── get_video_urls()
│   │
│   └── utils.py                      # 유틸리티 (100줄)
│       ├── sanitize_filename()
│       ├── format_datetime()
│       └── validate_url()
│
├── 📁 prompts/
│   ├── script_prompt.txt             # 대본 생성 프롬프트 템플릿
│   ├── thumbnail_prompt.txt          # 썸네일 프롬프트
│   ├── description_prompt.txt        # 설명란 프롬프트
│   └── translation_prompt.txt        # 번역 프롬프트
│
├── 📁 templates/
│   └── checklist_template.csv        # 체크리스트 기본 템플릿
│
├── 📁 project_output/                # 생성된 프로젝트 폴더
│   └── [상품명_날짜]/
│       ├── 📄 script.txt             # 대본
│       ├── 📄 thumbnail.txt          # 썸네일 문구
│       ├── 📄 description.txt        # 설명란
│       ├── 📄 douyin_keywords.txt    # 중국어 키워드
│       ├── 📄 douyin_videos.json     # 검색된 영상 정보 [Phase 2]
│       ├── 📄 checklist.csv          # 체크리스트
│       └── 📄 metadata.json          # 메타데이터
│
├── 📁 docs/
│   ├── README.md                     # 프로젝트 소개
│   ├── USER_GUIDE.md                 # 사용자 가이드
│   ├── VPN_SETUP.md                  # VPN 설정 가이드 [Phase 2]
│   └── DEVELOPMENT_LOG.md            # 개발 일지
│
├── 📁 tests/                         # 테스트 (선택)
│   ├── test_script_generator.py
│   ├── test_translator.py
│   └── test_douyin_crawler.py
│
├── 📄 .env                           # 환경 변수 (gitignore)
├── 📄 .env.example                   # 환경 변수 예시
├── 📄 .gitignore                     # Git 제외 파일
├── 📄 requirements.txt               # Python 패키지
└── 📄 README.md                      # 프로젝트 README

총 예상 코드량:
- Python 코드: ~1,500줄
- 프롬프트/설정: ~500줄
- 문서: ~2,000줄
```

---

## 💰 비용 분석

### Phase 1: 월간 운영 비용 (100개 콘텐츠 기준)

#### API 비용
```
OpenAI GPT-4 API
- 대본 생성: ~500 input tokens × ₩13/1M = ₩6.5
- 대본 출력: ~1000 output tokens × ₩39/1M = ₩39
- 번역: ~100 tokens × ₩13/1M = ₩1.3
─────────────────────────────────────
건당: ₩46.8
월 100개: ₩4,680

여유 포함: ₩6,000/월
```

#### 외부 서비스 (수동)
```
Typecast (음성 생성)
- Creator 플랜: ₩15,000/월
- 또는 무료 플랜 활용

CapCut Desktop
- 무료

Send Anywhere
- 무료

총 외부 서비스: ₩0-15,000/월
```

### Phase 2: 추가 비용

```
VPN 서비스 (Douyin 접근용)
- NordVPN: ₩4,500/월
- 또는 무료 VPN

ChromeDriver
- 무료 (자동 관리)

총 추가 비용: ₩0-5,000/월
```

### 총 운영 비용 (Phase 1+2)

| 항목 | 필수 | 선택 | 비고 |
|------|------|------|------|
| OpenAI API | ₩6,000 | - | 필수 |
| VPN | - | ₩4,500 | Douyin 접근 |
| Typecast | - | ₩15,000 | 고품질 음성 |
| **최소 합계** | **₩6,000** | - | Phase 1만 |
| **권장 합계** | **₩10,500** | - | Phase 2 포함 |
| **풀옵션 합계** | **₩25,500** | - | 모든 유료 서비스 |

---

## 📊 성과 지표 (KPI)

### 개발 진행률
| Phase | 기간 | 주요 지표 | 목표 |
|-------|------|----------|------|
| Phase 1 | 2주 | 코드 완성도 | 100% |
| | | 단위 테스트 통과율 | 95% 이상 |
| | | 사용자 테스트 만족도 | 4.0/5.0 |
| Phase 2 | 2주 | 크롤링 성공률 | 90% 이상 |
| | | 영상 검색 정확도 | 80% 이상 |
| | | 전체 완성도 | 100% |

### 운영 효율성
| 지표 | 기존 | Phase 1 후 | Phase 2 후 | 개선율 |
|------|------|-----------|-----------|--------|
| 대본 작성 시간 | 20분 | 1분 | 1분 | 95% ↓ |
| 키워드 번역 시간 | 5분 | 0분 | 0분 | 100% ↓ |
| 영상 검색 시간 | 10분 | 10분 | 2분 | 80% ↓ |
| **총 제작 시간** | **85분** | **66분** | **48분** | **44% ↓** |
| 월 제작 가능량 | 100개 | 130개 | 180개 | 80% ↑ |

### 비용 효율성
| 지표 | 값 | 설명 |
|------|-----|------|
| 콘텐츠당 API 비용 | ₩60 | OpenAI API만 |
| 시간당 절감 비용 | ₩15,000 | 37분 × ₩400/시간 |
| ROI (투자 대비 수익) | 250:1 | 비용 vs 시간 절감 |
| Break-even | 1일 | API 비용 회수 기간 |

### 품질 지표
| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| 대본 품질 점수 | 4.5/5.0 | 사용자 평가 |
| 키워드 정확도 | 90% | Douyin 검색 결과 |
| 영상 검색 정확도 | 80% | 관련성 평가 |
| 시스템 안정성 | 99% | 에러율 1% 미만 |

---

## 🎨 사용자 인터페이스 설계

### 메인 화면 (Phase 1)

```
┌─────────────────────────────────────────────────────────┐
│  🎬 쇼핑 쇼츠 반자동 제작 시스템                          │
│  쿠팡 파트너스 제휴마케팅 콘텐츠 자동 기획                 │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  📝 Step 1: 상품 정보 입력                                │
│  ┌────────────────────────────────────────────────────┐ │
│  │                                                     │ │
│  │  상품명: [________________________________]         │ │
│  │                                                     │ │
│  │  카테고리: [가전제품 ▼]                             │ │
│  │                                                     │ │
│  │  타겟 고객: [20-40대 여성 ▼]                        │ │
│  │                                                     │ │
│  │         [ 🚀 대본 자동 생성 ]                        │ │
│  │                                                     │ │
│  └────────────────────────────────────────────────────┘ │
│                                                          │
│  ━━━━━━━━━━━━━━━━━━ 생성 중... ━━━━━━━━━━━━━━━━━━       │
│  ████████████████░░░░░░░░░░ 65%                        │
│  ⏱️ 예상 시간: 약 10초                                   │
│                                                          │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  ✅ 생성 완료! 결과를 확인하세요.                          │
│                                                          │
│  📄 대본  |  🖼️ 썸네일  |  📝 설명란  |  🔤 키워드         │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                          │
│  30초 릴스 대본                                           │
│  ┌────────────────────────────────────────────────────┐ │
│  │                                                     │ │
│  │  [훅 - 3초]                                         │ │
│  │  장마철 신발 냄새 때문에 고민이신가요?                │ │
│  │                                                     │ │
│  │  [문제 제기 - 5초]                                  │ │
│  │  매일 신는 신발, 제대로 건조하지 않으면              │ │
│  │  냄새와 세균이 번식하게 됩니다.                      │ │
│  │                                                     │ │
│  │  [솔루션 제시 - 10초]                               │ │
│  │  이 무선 신발 건조기 하나면 모든 게 해결됩니다!      │ │
│  │  USB 충전식이라 어디서든 사용 가능하고,             │ │
│  │  ...                                                │ │
│  │                                                     │ │
│  └────────────────────────────────────────────────────┘ │
│                                                          │
│  [ 📋 복사 ]  [ 💾 다운로드 ]  [ ✏️ 수정 ]               │
│                                                          │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  📁 저장 위치:                                            │
│  project_output/무선_신발_건조기_20251030_143052/       │
│                                                          │
│  [ 📂 폴더 열기 ]  [ 📊 체크리스트 보기 ]                 │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### 영상 검색 화면 (Phase 2)

```
┌─────────────────────────────────────────────────────────┐
│  🎬 쇼핑 쇼츠 반자동 제작 시스템                          │
│                                                          │
│  📄 대본  |  🔍 영상 검색  |  📊 체크리스트               │
│           ━━━━━━━━━━                                     │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  🔍 Step 2: Douyin 영상 자동 검색                         │
│                                                          │
│  검색 키워드: 无线鞋子烘干机                              │
│                                                          │
│  [ 🔎 영상 검색 시작 ]                                    │
│                                                          │
│  ━━━━━━━━━━━━━━━━━━ 검색 중... ━━━━━━━━━━━━━━━━━━       │
│  ⏱️ Douyin 접속 중... (VPN 필요)                         │
│                                                          │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  ✅ 5개의 영상을 찾았습니다!                               │
│                                                          │
│  ┌─────────────┬─────────────┬─────────────┐           │
│  │ ☐           │ ☐           │ ☑️           │           │
│  │ [썸네일1]   │ [썸네일2]   │ [썸네일3]   │           │
│  │             │             │             │           │
│  │ 👁️ 128K     │ 👁️ 95K      │ 👁️ 234K     │           │
│  │ ❤️ 12K      │ ❤️ 8K       │ ❤️ 23K      │           │
│  │ ⏱️ 00:32    │ ⏱️ 00:45    │ ⏱️ 00:28    │           │
│  │             │             │             │           │
│  │ 无线鞋烘干器 │ 便携式烘干  │ 智能鞋烘干机 │           │
│  │ 测评         │             │             │           │
│  └─────────────┴─────────────┴─────────────┘           │
│                                                          │
│  ┌─────────────┬─────────────┐                          │
│  │ ☑️           │ ☐           │                          │
│  │ [썸네일4]   │ [썸네일5]   │                          │
│  │             │             │                          │
│  │ 👁️ 167K     │ 👁️ 78K      │                          │
│  │ ❤️ 18K      │ ❤️ 6K       │                          │
│  │ ⏱️ 00:35    │ ⏱️ 00:52    │                          │
│  │             │             │                          │
│  │ 鞋子除臭神器 │ 烘干机推荐  │                          │
│  └─────────────┴─────────────┘                          │
│                                                          │
│  선택된 영상: 2개                                         │
│                                                          │
│  [ 📋 URL 복사 ]  [ 📥 다운로드 가이드 보기 ]             │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### 체크리스트 화면

```
┌─────────────────────────────────────────────────────────┐
│  📊 작업 체크리스트                                       │
│  프로젝트: 무선_신발_건조기_20251030                      │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  진행률: ████████░░░░░░░░░░ 40% (4/10)                  │
│  예상 남은 시간: 약 45분                                  │
│                                                          │
│  ┌────┬──────────────────┬──────┬────────┬────────┐    │
│  │    │ 작업 단계         │ 상태 │ 소요   │ 비고   │    │
│  ├────┼──────────────────┼──────┼────────┼────────┤    │
│  │ ✅ │ 1. 상품 선정      │ 완료 │ 5분    │ 자동   │    │
│  │ ✅ │ 2. 대본 생성      │ 완료 │ 1분    │ 자동   │    │
│  │ ✅ │ 3. 썸네일 문구    │ 완료 │ 0분    │ 자동   │    │
│  │ ✅ │ 4. 영상 검색      │ 완료 │ 2분    │ 자동   │    │
│  │ ⬜ │ 5. 영상 다운로드  │ 대기 │ 10분   │ 수동   │    │
│  │ ⬜ │ 6. 음성 생성      │ 대기 │ 10분   │ 수동   │    │
│  │ ⬜ │ 7. 영상 편집      │ 대기 │ 30분   │ 수동⭐ │    │
│  │ ⬜ │ 8. 모바일 전송    │ 대기 │ 2분    │ 수동   │    │
│  │ ⬜ │ 9. 업로드         │ 대기 │ 5분    │ 수동   │    │
│  │ ⬜ │ 10. 링크 설정     │ 대기 │ 3분    │ 수동   │    │
│  └────┴──────────────────┴──────┴────────┴────────┘    │
│                                                          │
│  💡 다음 단계: 영상 다운로드                              │
│  선택한 2개의 영상을 다운로드하세요.                      │
│                                                          │
│  [ 📥 다운로드 가이드 ]  [ 📊 CSV 다운로드 ]              │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

---

## 🔒 보안 및 데이터 관리

### API 키 관리
```python
# .env 파일 (절대 Git에 커밋하지 않음)
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxx

# .env.example (공개 가능)
OPENAI_API_KEY=your_api_key_here
```

### 데이터 보안
- ✅ 모든 생성된 콘텐츠는 로컬 저장
- ✅ API 키는 환경 변수로 관리
- ✅ Git에 민감 정보 업로드 방지 (.gitignore)
- ✅ 로그에 API 키/개인정보 미포함

### 백업 전략
```
프로젝트 파일:
- 자동 저장: project_output/[상품명_날짜]/
- 수동 백업: 주 1회 외장 드라이브

코드:
- Git 버전 관리
- GitHub 원격 저장소 (선택)
```

---

## 🧪 테스트 전략

### 단위 테스트
```python
# tests/test_script_generator.py
def test_generate_script_success():
    """정상 케이스: 대본 생성 성공"""
    result = script_generator.generate_script("무선 신발 건조기")
    assert "script" in result
    assert len(result["script"]) > 100
    assert 30 <= len(result["script"].split()) <= 200

def test_generate_script_empty_input():
    """에러 케이스: 빈 입력"""
    with pytest.raises(ValueError):
        script_generator.generate_script("")

def test_api_error_handling():
    """에러 케이스: API 오류"""
    # API 키 없이 호출
    with pytest.raises(AuthenticationError):
        script_generator.generate_script("테스트", api_key=None)
```

### 통합 테스트
```python
def test_full_workflow_phase1():
    """Phase 1 전체 워크플로우"""
    # 1. 대본 생성
    script_data = generate_script("무선 신발 건조기")
    
    # 2. 키워드 번역
    keywords = translate_keywords("무선 신발 건조기")
    
    # 3. 폴더 생성
    folder = create_project_folder("무선 신발 건조기")
    
    # 4. 파일 저장
    save_all_files(folder, script_data, keywords)
    
    # 검증
    assert folder.exists()
    assert (folder / "script.txt").exists()
    assert (folder / "douyin_keywords.txt").exists()
```

### 사용자 시나리오 테스트

**시나리오 1: 첫 사용자**
```
1. 프로그램 실행
2. API 키 설정 안내 확인
3. .env 파일 생성 및 키 입력
4. 재시작 후 상품명 입력
5. 대본 생성 확인
6. 폴더 확인
```

**시나리오 2: 일반 사용**
```
1. 상품명 입력: "미니 선풍기"
2. 카테고리 선택: "가전제품"
3. 대본 생성 버튼 클릭
4. 생성 완료 대기 (10초)
5. 결과 확인 (대본/썸네일/키워드)
6. 필요 시 수정
7. 폴더 열기로 파일 확인
```

**시나리오 3: Phase 2 영상 검색**
```
1. Phase 1 완료 후
2. "영상 검색" 탭 클릭
3. 자동 생성된 키워드 확인
4. 검색 버튼 클릭
5. VPN 연결 확인
6. 검색 결과 확인 (5개)
7. 2-3개 선택
8. URL 복사
9. 다운로드 가이드 확인
```

---

## ⚠️ 알려진 제한사항 및 해결 방안

### Phase 1 제한사항

**1. API 비용**
- 문제: 많이 사용하면 비용 증가
- 해결: 일일 요청 한도 설정 (100개)
- 대안: 무료 모델 (GPT-3.5) 옵션 제공

**2. 인터넷 연결 필수**
- 문제: 오프라인 사용 불가
- 해결: 에러 메시지 명확화
- 대안: 로컬 LLM 고려 (Phase 3)

**3. 대본 품질 변동**
- 문제: AI 응답이 매번 다름
- 해결: temperature 조정 (0.7)
- 대안: 여러 버전 생성 후 선택

### Phase 2 제한사항

**1. VPN 필수**
- 문제: Douyin은 중국 플랫폼
- 해결: VPN 설정 가이드 제공
- 대안: 프록시 서버 사용

**2. 크롤링 차단 위험**
- 문제: Douyin 봇 감지
- 해결: User-Agent 설정, 대기 시간
- 대안: API 사용 (유료, 공식 지원 없음)

**3. 영상 검색 정확도**
- 문제: 관련 없는 영상 포함
- 해결: 조회수/좋아요 필터링
- 대안: 수동 선택 기능 유지

---

## 📈 확장 가능성 (미래 계획)

### Phase 3: 음성/영상 자동화 (선택)
```
예상 기간: 4주
예상 비용: +₩5,000/월

추가 기능:
□ Google Cloud TTS 통합
□ 간단한 영상 편집 (FFmpeg)
□ 자막 자동 생성 (Whisper)
□ 템플릿 기반 편집

목표:
- 전체 시간 48분 → 30분
- 편집 시간 30분 → 15분
```

### Phase 4: SaaS 전환 (장기)
```
예상 기간: 8주+
예상 비용: 호스팅 ₩50,000/월

추가 기능:
□ FastAPI 백엔드 분리
□ React 프론트엔드
□ 사용자 계정 시스템
□ 결제 시스템
□ 대시보드 및 분석
□ 팀 협업 기능

목표:
- 다중 사용자 지원
- 클라우드 배포
- 구독 모델 수익화
```

---

## 💡 개발 팁 및 베스트 프랙티스

### 코드 작성 가이드

**1. 함수 설계 원칙**
```python
# Good - 단일 책임
def generate_script(product_name: str) -> dict:
    """대본만 생성"""
    pass

def generate_thumbnail(product_name: str) -> str:
    """썸네일 문구만 생성"""
    pass

# Bad - 여러 책임
def generate_everything(product_name: str) -> dict:
    """대본, 썸네일, 키워드, 폴더 생성 등 모두 처리"""
    pass
```

**2. 에러 핸들링**
```python
# Good - 명확한 에러 메시지
try:
    response = openai.chat.completions.create(...)
except openai.AuthenticationError:
    raise ValueError("OpenAI API 키가 유효하지 않습니다. .env 파일을 확인하세요.")
except openai.RateLimitError:
    raise ValueError("API 요청 한도를 초과했습니다. 잠시 후 다시 시도하세요.")

# Bad - 막연한 에러
try:
    response = openai.chat.completions.create(...)
except Exception as e:
    print(f"에러 발생: {e}")
```

**3. 설정 관리**
```python
# Good - config.py에 집중
class Config:
    OPENAI_MODEL = "gpt-4-turbo-preview"
    MAX_TOKENS = 1500
    TEMPERATURE = 0.7
    
    OUTPUT_DIR = "project_output"
    
    CHECKLIST_TEMPLATE = [
        {"단계": "1️⃣ 상품 선정", "소요시간": "5분"},
        # ...
    ]

# Bad - 하드코딩 분산
def generate_script(product_name):
    response = openai.create(
        model="gpt-4-turbo-preview",  # 여기저기 흩어짐
        max_tokens=1500,
        # ...
    )
```

**4. 로깅**
```python
import logging

# Good - 적절한 로깅
logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

logger.info(f"대본 생성 시작: {product_name}")
logger.debug(f"API 응답 토큰: {tokens}")
logger.warning(f"API 요청 재시도 중...")
logger.error(f"대본 생성 실패: {error}")

# Bad - print 남용
print("대본 생성 중...")  # 나중에 삭제하기 어려움
```

### UI 개발 팁

**1. 사용자 피드백**
```python
# Good - 명확한 진행 상태
with st.spinner("대본 생성 중... (약 10초)"):
    progress_bar = st.progress(0)
    progress_bar.progress(25, text="프롬프트 준비 중...")
    progress_bar.progress(50, text="AI 응답 대기 중...")
    progress_bar.progress(75, text="결과 파싱 중...")
    progress_bar.progress(100, text="완료!")

# Bad - 아무 표시 없음
result = generate_script(product_name)  # 사용자는 먹통인 줄 알음
```

**2. 에러 표시**
```python
# Good - 친절한 에러 메시지
try:
    result = generate_script(product_name)
except ValueError as e:
    st.error(f"⚠️ {str(e)}")
    st.info("💡 해결 방법: Settings > .env 파일에서 API 키를 확인하세요.")
    st.code("OPENAI_API_KEY=sk-proj-xxxxx")

# Bad - 기술적 에러만
except Exception as e:
    st.error(str(e))  # 사용자가 이해 못함
```

---

## 🎓 학습 자료 및 참고 문서

### 공식 문서
- [Streamlit 문서](https://docs.streamlit.io/)
- [OpenAI API 문서](https://platform.openai.com/docs/)
- [Selenium 문서](https://selenium-python.readthedocs.io/)
- [yt-dlp GitHub](https://github.com/yt-dlp/yt-dlp)

### 추천 튜토리얼
- Streamlit 빠른 시작: 30분 완성
- OpenAI API 시작하기: 15분
- Selenium 웹 크롤링: 1시간
- Python 가상환경 설정: 10분

### 커뮤니티
- Streamlit 포럼: https://discuss.streamlit.io/
- OpenAI 커뮤니티: https://community.openai.com/
- Python 한국 사용자 모임: https://python.kr/

---

## 📝 체크리스트 및 마일스톤

### Phase 1 완료 조건
```
□ 프로젝트 구조 생성 완료
□ 가상환경 설정 완료
□ OpenAI API 연동 성공
□ 대본 생성 기능 동작
□ 키워드 번역 기능 동작
□ 파일 자동 저장 동작
□ Streamlit UI 완성
□ 에러 없이 5회 연속 성공
□ README 문서 완성
□ 사용자 가이드 완성
```

### Phase 2 완료 조건
```
□ Selenium 설정 완료
□ VPN 연결 가이드 작성
□ Douyin 검색 성공
□ 영상 URL 추출 성공
□ 썸네일 표시 동작
□ UI 통합 완료
□ 전체 워크플로우 테스트 통과
□ 문서 업데이트 완료
```

---

## 🤝 협업 및 기여 가이드

### Git 워크플로우
```bash
# 1. 저장소 클론
git clone https://github.com/yourusername/shopping-shorts-automation.git

# 2. 브랜치 생성
git checkout -b feature/douyin-crawler

# 3. 개발 및 커밋
git add .
git commit -m "feat: Add Douyin video search feature"

# 4. 푸시
git push origin feature/douyin-crawler

# 5. Pull Request 생성
```

### 커밋 메시지 컨벤션
```
feat: 새로운 기능 추가
fix: 버그 수정
docs: 문서 수정
style: 코드 포매팅
refactor: 코드 리팩토링
test: 테스트 추가
chore: 빌드 작업, 패키지 매니저 수정

예시:
feat: Add script generation module
fix: Fix encoding error in file_manager
docs: Update README with Phase 2 guide
```

---

## 📊 프로젝트 타임라인

```
2025-10-30 (D-0)   계획서 작성 완료 ✅
                   ↓
2025-10-31 (D+1)   Phase 1 개발 시작
                   ↓ (2주)
2025-11-14 (D+15)  Phase 1 완료 (v1.0) 🎉
                   ↓
2025-11-15 (D+16)  Phase 2 개발 시작
                   ↓ (2주)
2025-11-29 (D+30)  Phase 2 완료 (v2.0) 🎉
                   ↓
2025-12-01 (D+32)  정식 런칭 및 운영 시작 🚀
```

---

## 🎯 성공 기준

### 개발 성공 지표
- ✅ Phase 1 2주 내 완성
- ✅ Phase 2 4주 내 완성
- ✅ 단위 테스트 95% 통과
- ✅ 버그 제로 배포

### 사용자 성공 지표
- ✅ 작업 시간 40% 이상 단축
- ✅ 사용자 만족도 4.0/5.0 이상
- ✅ 월 100개 이상 콘텐츠 제작
- ✅ API 비용 ₩10,000 이하

### 비즈니스 성공 지표
- ✅ ROI 250:1 달성
- ✅ 콘텐츠 품질 유지
- ✅ 수익 증대 (제휴 수익)

---

## 📞 지원 및 문의

### 기술 지원
- GitHub Issues: 버그 리포트 및 기능 요청
- 이메일: support@example.com
- 문서: docs/ 폴더 참고

### 개발 문의
- 개발자 이메일: dev@example.com
- Discord: [링크]
- 정기 미팅: 매주 금요일 오후 2시

---

## 📄 라이센스
MIT License - 자유롭게 사용, 수정, 배포 가능

---

## 🙏 감사의 말
이 프로젝트는 다음 오픈소스 프로젝트들을 기반으로 합니다:
- Streamlit
- OpenAI API
- Selenium
- yt-dlp

---

> 💡 **다음 단계**: 이 계획서를 검토하고 승인되면 Phase 1 개발을 시작합니다!
> 
> **시작 전 확인사항:**
> 1. OpenAI API 키 발급 완료
> 2. Python 3.10+ 설치 완료
> 3. 개발 환경 준비 완료
> 4. Git 저장소 준비 완료
> 
> **준비되셨나요? Let's build! 🚀**

---

**문서 버전**: v2.0  
**최종 수정**: 2025-10-30  
**작성자**: 개발팀  
**검토자**: 미정  
**승인자**: 미정
