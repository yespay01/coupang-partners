# ë³€ê²½ ì´ë ¥ (Changelog)

## [2025-11-01] - Gemini API ì „í™˜ ë° íˆìŠ¤í† ë¦¬ ê¸°ëŠ¥ ì¶”ê°€

### âœ¨ ì£¼ìš” ë³€ê²½ì‚¬í•­

#### 1. **OpenAI â†’ Google Gemini API ì „í™˜** ğŸ†“
- **ëª©ì **: API ë¹„ìš© ì ˆê° (OpenAI ìœ ë£Œ â†’ Gemini ë¬´ë£Œ)
- **ë³€ê²½ íŒŒì¼**: `core/openai_client.py`
- **ìƒˆë¡œìš´ ê¸°ëŠ¥**:
  - `AI_PROVIDER` í™˜ê²½ ë³€ìˆ˜ë¡œ ì œê³µì ì„ íƒ (openai/gemini)
  - ê¸°ë³¸ê°’: `gemini` (ë¬´ë£Œ!)
  - ê¸°ë³¸ ëª¨ë¸: `gemini-2.5-flash`
  - ë‘ API ëª¨ë‘ ì§€ì›í•˜ëŠ” í†µí•© ì¸í„°í˜ì´ìŠ¤

**`.env.example` ì—…ë°ì´íŠ¸**:
```env
AI_PROVIDER=gemini
GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_MODEL=gemini-2.5-flash
```

#### 2. **JSON íŒŒì‹± ì˜¤ë¥˜ ìˆ˜ì •** ğŸ›
- **ë¬¸ì œ**: Gemini API ì‘ë‹µì´ ë§ˆí¬ë‹¤ìš´ ë¸”ë¡ì´ë‚˜ ì¶”ê°€ í…ìŠ¤íŠ¸ í¬í•¨
- **í•´ê²°ì±…**:
  - `core/utils.py`ì˜ `ensure_json()` í•¨ìˆ˜ ê°œì„ 
  - ë§ˆí¬ë‹¤ìš´ ì½”ë“œ ë¸”ë¡(```)  ìë™ ì œê±°
  - JSON ì‹œì‘/ë ìë™ ì¶”ì¶œ
  - ë¸Œë˜í‚· ë§¤ì¹­ìœ¼ë¡œ ì •í™•í•œ JSON ê²½ê³„ íŒŒì•…

**í”„ë¡¬í”„íŠ¸ ê°œì„ ** (`prompts/*.txt`):
```
**ì¤‘ìš”: ë‹¤ë¥¸ ì„¤ëª…ì´ë‚˜ ë§ˆí¬ë‹¤ìš´ ì½”ë“œ ë¸”ë¡(```) ì—†ì´ ìˆœìˆ˜ JSONë§Œ ì¶œë ¥í•˜ì„¸ìš”.**
**ì‘ë‹µì˜ ì²« ê¸€ìëŠ” ë°˜ë“œì‹œ {ë¡œ ì‹œì‘í•˜ê³  ë§ˆì§€ë§‰ì€ }ë¡œ ëë‚˜ì•¼ í•©ë‹ˆë‹¤.**
```

#### 3. **ì‘ë‹µ ì˜ë¦¼ ë¬¸ì œ í•´ê²°** âš¡
- **ë¬¸ì œ**: `max_output_tokens=1200`ìœ¼ë¡œ ì‘ë‹µì´ ì¤‘ê°„ì— ì˜ë¦¼
- **í•´ê²°**: ê¸°ë³¸ê°’ì„ 4000ìœ¼ë¡œ ì¦ê°€
- **ìœ„ì¹˜**: `core/openai_client.py:86`

#### 4. **ì•ˆì „ ì„¤ì • ì¶”ê°€** ğŸ›¡ï¸
- **ë¬¸ì œ**: Geminiì˜ ì•ˆì „ í•„í„°ê°€ ìƒí’ˆ ì„¤ëª…ì„ ê³¼ë„í•˜ê²Œ ì°¨ë‹¨
- **í•´ê²°**: ì•ˆì „ ì„¤ì •ì„ `BLOCK_NONE`ìœ¼ë¡œ ì™„í™”
- **ì ìš©**: `core/openai_client.py:124-129`

#### 5. **íˆìŠ¤í† ë¦¬ ê¸°ëŠ¥ ì¶”ê°€** ğŸ“‹
- **ë¬¸ì œ**: ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ í´ë¦­ ì‹œ ìƒì„±ëœ ì½˜í…ì¸ ê°€ ì‚¬ë¼ì§
- **í•´ê²°ì±…**:
  - Session State í™œìš©
  - ì‚¬ì´ë“œë°”ì— ìƒì„± íˆìŠ¤í† ë¦¬ í‘œì‹œ
  - ìµœê·¼ 10ê°œ ê²°ê³¼ ìë™ ì €ì¥
  - ê° ê²°ê³¼ì— íƒ€ì„ìŠ¤íƒ¬í”„ ì¶”ê°€
  - ê³¼ê±° ê²°ê³¼ ì¬ì¡°íšŒ ê¸°ëŠ¥

**ìƒˆë¡œìš´ UI**:
- ì‚¬ì´ë“œë°”: "ğŸ“‹ ìƒì„± íˆìŠ¤í† ë¦¬"
- ê° í•­ëª©: ìƒí’ˆëª…, ìƒì„± ì‹œê°, "ì´ ê²°ê³¼ ë³´ê¸°" ë²„íŠ¼
- "íˆìŠ¤í† ë¦¬ ì „ì²´ ì‚­ì œ" ë²„íŠ¼

#### 6. **ê²½ë¡œ í‘œì‹œ ì˜¤ë¥˜ ìˆ˜ì •** ğŸ”§
- **ë¬¸ì œ**: Streamlit Cloudì—ì„œ `/tmp` ê²½ë¡œê°€ ë² ì´ìŠ¤ ê²½ë¡œì˜ í•˜ìœ„ê°€ ì•„ë‹ˆì–´ì„œ ì˜¤ë¥˜ ë°œìƒ
- **í•´ê²°**: `ValueError` ì˜ˆì™¸ ì²˜ë¦¬ë¡œ ì ˆëŒ€/ìƒëŒ€ ê²½ë¡œ ìë™ ì„ íƒ
- **ìœ„ì¹˜**: `app/main.py:452-455`

### ğŸ“¦ ìƒˆë¡œìš´ ì˜ì¡´ì„±
```txt
google-generativeai>=0.3.0
```

### ğŸš€ ë°°í¬ ìƒíƒœ
- âœ… ë¡œì»¬ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- âœ… GitHub í‘¸ì‹œ ì™„ë£Œ
- âœ… Streamlit Cloud ë°°í¬ ì™„ë£Œ

### ğŸ“ ì»¤ë°‹ ë¡œê·¸
1. `Fix Gemini API error handling and safety settings` (83e68f3)
2. `Fix JSON parsing: increase tokens and clarify prompts` (6341193)
3. `Fix path display error on Streamlit Cloud` (2c2dfe4)
4. `Add history feature to preserve generated content` (584a52a)

---

## [2025-10-31] - Phase 2 ì™„ë£Œ ë° ë¬¸ì„œí™”

### âœ… ì™„ë£Œëœ ê¸°ëŠ¥
- Phase 1: AI ê¸°ë°˜ ì½˜í…ì¸  ê¸°íš ìë™í™”
- Phase 2: Douyin ì˜ìƒ ì†ŒìŠ¤ ìë™í™”
- Streamlit UI êµ¬ì¶•
- í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ì‘ì„±
- ë¬¸ì„œ ì‘ì„± (README, USER_GUIDE, TECH_STACK ë“±)

### ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡° í™•ë¦½
```
shopping_shorts_automation/
â”œâ”€â”€ app/main.py
â”œâ”€â”€ core/
â”œâ”€â”€ prompts/
â”œâ”€â”€ docs/
â””â”€â”€ requirements.txt
```

---

## ë‹¤ìŒ ì˜ˆì • ì‘ì—…

### ë‹¨ê¸° (1ì£¼)
- [ ] ì‹¤ì œ ìƒí’ˆ 3ê°œë¡œ í…ŒìŠ¤íŠ¸
- [ ] í”„ë¡¬í”„íŠ¸ í’ˆì§ˆ íŠœë‹
- [ ] ì—ëŸ¬ ë©”ì‹œì§€ ê°œì„ 

### ì¤‘ê¸° (2-4ì£¼)
- [ ] ë¡œê¹… ì‹œìŠ¤í…œ êµ¬ì¶•
- [ ] API ë¹„ìš© ì¶”ì 
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

### ì¥ê¸° (1-3ê°œì›”)
- [ ] ìŒì„± ìƒì„± ì—°ë™ (Typecast)
- [ ] ì˜ìƒ í¸ì§‘ ìë™í™” (MoviePy)
- [ ] ì—…ë¡œë“œ ìë™í™” (Instagram/YouTube)
