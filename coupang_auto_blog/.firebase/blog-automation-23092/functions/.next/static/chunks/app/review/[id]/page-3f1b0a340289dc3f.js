(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{63:(e,t,a)=>{"use strict";var s=a(7260);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},4239:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(5155),r=a(2115),n=a(63),l=a(2619),o=a.n(l),i=a(6436);function c(){var e;let t=(0,n.useParams)().id,[a,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null);return((0,r.useEffect)(()=>{!async function(){if(t){d(!0),m(null);try{let e=await (0,i.RV)(t);e?l(e):m("리뷰를 찾을 수 없습니다.")}catch(e){console.error("리뷰 로드 실패:",e),m("리뷰를 불러오는 중 오류가 발생했습니다.")}finally{d(!1)}}}()},[t]),c)?(0,s.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-slate-900"})}):u||!a?(0,s.jsx)("div",{className:"min-h-screen bg-slate-50",children:(0,s.jsx)("div",{className:"mx-auto max-w-3xl px-4 py-16 text-center",children:(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-12",children:[(0,s.jsx)("div",{className:"mx-auto w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsx)("h1",{className:"text-xl font-bold text-slate-900 mb-2",children:u||"리뷰를 찾을 수 없습니다"}),(0,s.jsx)("p",{className:"text-slate-500 mb-6",children:"요청하신 리뷰가 존재하지 않거나 삭제되었을 수 있습니다."}),(0,s.jsxs)(o(),{href:"/",className:"inline-flex items-center gap-2 rounded-full bg-slate-900 px-5 py-2 text-sm font-semibold text-white hover:bg-slate-800 transition",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"홈으로 돌아가기"]})]})})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-white via-slate-50/50 to-white",children:[(0,s.jsx)("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/80 backdrop-blur-lg",children:(0,s.jsx)("div",{className:"mx-auto max-w-4xl px-4 sm:px-6",children:(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[(0,s.jsxs)(o(),{href:"/",className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-sm",children:"C"})}),(0,s.jsx)("span",{className:"font-bold text-slate-900",children:"쿠팡 리뷰"})]}),(0,s.jsx)(o(),{href:"/admin",className:"rounded-full bg-slate-900 px-4 py-2 text-xs font-semibold text-white hover:bg-slate-800 transition",children:"관리자"})]})})}),(0,s.jsx)("div",{className:"border-b border-slate-100 bg-white",children:(0,s.jsx)("div",{className:"mx-auto max-w-4xl px-4 py-3 sm:px-6",children:(0,s.jsxs)("nav",{className:"flex items-center gap-2 text-sm text-slate-500",children:[(0,s.jsx)(o(),{href:"/",className:"hover:text-slate-700 transition",children:"홈"}),(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),(0,s.jsx)("span",{className:"text-slate-900 font-medium truncate max-w-[200px]",children:a.productName||"리뷰"})]})})}),(0,s.jsxs)("main",{className:"mx-auto max-w-4xl px-4 py-8 sm:px-6 sm:py-12",children:[(0,s.jsxs)("article",{className:"rounded-3xl border border-slate-200 bg-white p-6 sm:p-10 shadow-sm",children:[(0,s.jsxs)("header",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[a.category&&(0,s.jsx)("span",{className:"rounded-full bg-blue-100 px-3 py-1 text-xs font-medium text-blue-700",children:a.category}),(0,s.jsx)("span",{className:"rounded-full px-3 py-1 text-xs font-medium ".concat("published"===a.status?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"),children:"published"===a.status?"게시됨":a.status})]}),(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900 mb-4",children:a.productName||"상품 리뷰"}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-500",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),a.author||"AI 리뷰어"]}),(0,s.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),function(e){if(!e)return"";let t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}(a.createdAt||"")]}),a.charCount&&(0,s.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.charCount,"자"]})]})]}),a.media&&a.media.length>0&&(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)("div",{className:"grid gap-4 sm:grid-cols-2",children:a.media.map((e,t)=>(0,s.jsx)("div",{className:"rounded-xl overflow-hidden border border-slate-100",children:"image"===e.type?(0,s.jsx)("img",{src:e.url,alt:e.name,className:"w-full h-64 object-cover"}):(0,s.jsx)("video",{src:e.url,controls:!0,className:"w-full h-64 object-cover bg-black"})},t))})}),(0,s.jsx)("div",{className:"max-w-none text-slate-700 leading-relaxed review-content",dangerouslySetInnerHTML:{__html:(e=a.content||"")?/<[a-z][\s\S]*>/i.test(e)?e:e.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<img src="$2" alt="$1" class="rounded-xl max-w-full my-4" />').replace(/\[영상:\s*([^\]]*)\]\(([^)]+)\)/g,'<video src="$2" controls class="rounded-xl max-w-full my-4"><a href="$2">$1</a></video>').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 hover:underline" target="_blank" rel="noopener noreferrer">$1</a>').replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br />"):""}}),a.affiliateUrl&&(0,s.jsxs)("div",{className:"mt-10 p-6 rounded-2xl bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-100",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-slate-900",children:"이 상품이 마음에 드셨나요?"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"쿠팡에서 최저가로 구매하세요!"})]}),(0,s.jsxs)("a",{href:a.affiliateUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-full bg-blue-600 px-6 py-3 text-sm font-semibold text-white hover:bg-blue-700 transition shadow-lg shadow-blue-600/25",children:["쿠팡에서 보기",(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),(0,s.jsx)("p",{className:"mt-3 text-xs text-slate-500",children:"* 이 포스팅은 쿠팡 파트너스 활동의 일환으로, 이에 따른 일정액의 수수료를 제공받습니다."})]})]}),(0,s.jsx)("div",{className:"mt-8 flex items-center justify-between",children:(0,s.jsxs)(o(),{href:"/",className:"inline-flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-slate-900 transition",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"목록으로 돌아가기"]})})]}),(0,s.jsx)("footer",{className:"border-t border-slate-200 bg-white mt-12",children:(0,s.jsx)("div",{className:"mx-auto max-w-4xl px-4 py-8 sm:px-6",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-slate-500",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-xs",children:"C"})}),(0,s.jsx)("span",{children:"쿠팡 파트너스 자동화 블로그"})]}),(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Coupang Partners Auto Blog"]})]})})})]})}},6123:(e,t,a)=>{Promise.resolve().then(a.bind(a,4239))},6436:(e,t,a)=>{"use strict";a.d(t,{EZ:()=>x,Gm:()=>f,Lf:()=>o,RV:()=>h,WD:()=>u,bx:()=>p,e_:()=>l,hc:()=>d,st:()=>m,xN:()=>c});var s=a(9708),r=a(8789);let n=null;async function l(e){var t,a;let{limit:r,startAfterDoc:n,levels:l,createdAfter:i}=e,c=await o(),d=[(0,s.My)("createdAt","desc"),(0,s.AB)(r+1)],u=null==l?void 0:l.filter(Boolean);u&&u.length&&u.length<3&&d.push((0,s._M)("level","in",u)),i&&d.push((0,s._M)("createdAt",">=",i)),n&&d.push((0,s.HM)(n));let x=await (0,s.GG)((0,s.P)((0,s.rJ)(c,"logs"),...d)),h=x.docs.slice(0,r),p=x.docs.length>r,f=await (0,s.d_)((0,s.rJ)(c,"logs"));return{documents:h.map(e=>{var t,a,s;let r=e.data();return{id:e.id,level:r.level,message:null!=(t=r.message)?t:r.type,type:r.type,createdAt:m(r.createdAt),context:null!=(s=r.context)?s:JSON.stringify(null!=(a=r.payload)?a:{}),payload:r.payload}}),firstSnapshot:null!=(t=h[0])?t:null,lastSnapshot:null!=(a=h[h.length-1])?a:null,hasMore:p,totalCount:f.data().count}}async function o(){if(n)return n;let{app:e}=await (0,r.w)();return n=(0,s.aU)(e)}async function i(e,t){let a=await o();return(0,s.P)((0,s.rJ)(a,e),(0,s.My)("createdAt","desc"),(0,s.AB)(t))}async function c(e,t,a){try{let r=await i(e,t);return(0,s.aQ)(r,e=>{let t=e.docs.map(e=>{let t=e.data();return{id:e.id,...t}});a(t)},t=>{console.warn("[firestore] subscribe failed for ".concat(e,":"),t),a([])})}catch(t){return console.warn("[firestore] subscribe setup failed for ".concat(e,":"),t),a([]),()=>{}}}async function d(e,t){let a=await o();await (0,s.gS)((0,s.rJ)(a,e),{...t,createdAt:(0,s.O5)()})}async function u(e,t){let a=await o(),r=(0,s.H9)(a,"reviews",e);await (0,s.mZ)(r,{status:t,updatedAt:(0,s.O5)()})}function m(e){return e?"string"==typeof e?e:e instanceof Date?e.toISOString():"function"==typeof e.toDate?e.toDate().toISOString():"":""}async function x(e){var t,a;let{limit:r,startAfterDoc:n,statuses:l,updatedAfter:i}=e,c=await o(),d=[(0,s.My)("updatedAt","desc"),(0,s.AB)(r+1)],u=null==l?void 0:l.filter(Boolean);u&&u.length&&u.length<4&&d.push((0,s._M)("status","in",u)),i&&d.push((0,s._M)("updatedAt",">=",i)),n&&d.push((0,s.HM)(n));let x=await (0,s.GG)((0,s.P)((0,s.rJ)(c,"reviews"),...d)),h=x.docs.slice(0,r),p=x.docs.length>r,f=await (0,s.d_)((0,s.rJ)(c,"reviews"));return{documents:h.map(e=>{var t;let a=e.data();return{id:e.id,productId:a.productId,productName:a.productName,author:a.author,status:a.status,updatedAt:m(null!=(t=a.updatedAt)?t:a.createdAt),createdAt:m(a.createdAt),content:a.content,toneScore:a.toneScore,charCount:a.charCount}}),firstSnapshot:null!=(t=h[0])?t:null,lastSnapshot:null!=(a=h[h.length-1])?a:null,hasMore:p,totalCount:f.data().count}}async function h(e){var t;let a=await o(),r=(0,s.H9)(a,"reviews",e),n=await (0,s.x7)(r);if(!n.exists())return null;let l=n.data();return{id:n.id,productId:l.productId,productName:l.productName,author:l.author,status:l.status,updatedAt:m(null!=(t=l.updatedAt)?t:l.createdAt),createdAt:m(l.createdAt),content:l.content,toneScore:l.toneScore,charCount:l.charCount,category:l.category,affiliateUrl:l.affiliateUrl,media:l.media}}async function p(e){var t,a,r,n,l;let i=await o();return(await (0,s.gS)((0,s.rJ)(i,"reviews"),{productName:e.productName,content:e.content,category:null!=(t=e.category)?t:"",affiliateUrl:null!=(a=e.affiliateUrl)?a:"",author:null!=(r=e.author)?r:"관리자",status:null!=(n=e.status)?n:"draft",media:null!=(l=e.media)?l:[],charCount:e.content.length,toneScore:.7,createdAt:(0,s.O5)(),updatedAt:(0,s.O5)()})).id}async function f(e,t){let a=await o(),r=(0,s.H9)(a,"reviews",e),n={updatedAt:(0,s.O5)()};void 0!==t.productName&&(n.productName=t.productName),void 0!==t.content&&(n.content=t.content,n.charCount=t.content.length),void 0!==t.category&&(n.category=t.category),void 0!==t.affiliateUrl&&(n.affiliateUrl=t.affiliateUrl),void 0!==t.author&&(n.author=t.author),void 0!==t.status&&(n.status=t.status),void 0!==t.media&&(n.media=t.media),await (0,s.mZ)(r,n)}},8789:(e,t,a)=>{"use strict";a.d(t,{w:()=>l});var s=a(2078),r=a(8871);let n=null;async function l(){if(n)return n;let e=(0,s.Dk)().length?(0,s.Dk)()[0]:(0,s.Wp)(function(){return{apiKey:"AIzaSyCPI1msAqKlbF83upcdEClY9xlAMhJs-3I",authDomain:"blog-automation-23092.firebaseapp.com",projectId:"blog-automation-23092",storageBucket:"blog-automation-23092.firebasestorage.app",messagingSenderId:"944342575434",appId:"1:944342575434:web:f9ee17d38296ffe0aaf9b3",measurementId:""}}()),t=null;return t=await (0,r.TT)()?(0,r.P5)(e):null,n={app:e,analytics:t}}}},e=>{e.O(0,[992,200,659,619,441,255,358],()=>e(e.s=6123)),_N_E=e.O()}]);